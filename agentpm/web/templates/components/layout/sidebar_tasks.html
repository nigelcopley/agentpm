{% extends 'components/layout/sidebar_base.html' %}
{% import 'components/layout/sidebar_base.html' as base %}

{% block sidebar_content %}
  <section class="mb-8 space-y-3">
    <h3 class="text-xs font-semibold uppercase tracking-wide text-gray-500">Task Snapshot</h3>
    <div class="grid grid-cols-2 gap-3">
      {{ base.stats_card('Total Tasks', metrics.total_tasks if metrics is defined else 0) }}
      {{ base.stats_card('Completed', metrics.completed_tasks if metrics is defined else 0, 'bg-success/10', 'text-success-600') }}
      {{ base.stats_card('In Progress', metrics.in_progress_tasks if metrics is defined else 0, 'bg-warning/10', 'text-warning-600') }}
      {{ base.stats_card('Blocked', metrics.blocked_tasks if metrics is defined else 0, 'bg-error/10', 'text-error-600') }}
    </div>
  </section>

  <section class="mb-8 space-y-3" data-filter-group="status">
    <h3 class="text-xs font-semibold uppercase tracking-wide text-gray-500">Status</h3>
    <div class="flex flex-col gap-2 filter-group" data-filter-group="status">
      {% for value, label in [
        ('all', 'All Tasks'),
        ('proposed', 'Proposed'),
        ('in_progress', 'In Progress'),
        ('completed', 'Completed'),
        ('blocked', 'Blocked')
      ] %}
      <button type="button" class="filter-btn" data-filter-group="status" data-filter="{{ value }}" :class="buttonClasses('status','{{ value }}')" @click="setFilter('status','{{ value }}',$event)">
        <span>{{ label }}</span>
      </button>
      {% endfor %}
    </div>
  </section>

  <section class="mb-8 space-y-3" data-filter-group="type">
    <h3 class="text-xs font-semibold uppercase tracking-wide text-gray-500">Task Type</h3>
    <div class="flex flex-col gap-2 filter-group" data-filter-group="type">
      {% for value, label in [
        ('design', 'Design'),
        ('implementation', 'Implementation'),
        ('testing', 'Testing'),
        ('documentation', 'Documentation'),
        ('analysis', 'Analysis')
      ] %}
      <button type="button" class="filter-btn" data-filter-group="type" data-filter="{{ value }}" :class="buttonClasses('type','{{ value }}')" @click="setFilter('type','{{ value }}',$event)">
        <span>{{ label }}</span>
      </button>
      {% endfor %}
    </div>
  </section>

  <section class="mt-auto space-y-2">
    <h3 class="text-xs font-semibold uppercase tracking-wide text-gray-500">Quick Actions</h3>
    <button type="button" class="btn btn-primary w-full" @click="createTask">
      <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m6-6H6" />
      </svg>
      New Task
    </button>
  </section>
{% endblock %}
