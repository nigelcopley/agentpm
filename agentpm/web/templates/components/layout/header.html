<!-- Modern Header Component -->
<header
  x-data="headerController()"
  class="sticky top-0 z-50 border-b border-gray-200 bg-white/90 backdrop-blur shadow-sm"
>
  <div class="flex h-16 w-full items-center justify-between px-4 sm:px-6 lg:px-8">
    <!-- Logo -->
    <a href="/" class="flex items-center gap-3">
      <span class="flex h-10 w-10 items-center justify-center rounded-xl bg-primary/90 text-white shadow-brand">
        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h12M4 18h8"></path>
        </svg>
      </span>
      <span class="hidden sm:block">
        <span class="block text-base font-semibold text-gray-900">APM (Agent Project Manager)</span>
        <span class="block text-xs font-medium uppercase tracking-wide text-gray-500">AI Project Manager</span>
      </span>
    </a>

    <!-- Search -->
    <div class="mx-4 hidden flex-1 items-center md:flex">
      <div class="relative w-full max-w-xl">
        <span class="pointer-events-none absolute inset-y-0 left-3 flex items-center text-gray-400">
          <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-4.35-4.35M5 11a6 6 0 1 1 12 0 6 6 0 0 1-12 0Z" />
          </svg>
        </span>
        <input
          x-ref="search"
          x-model="searchQuery"
          @keydown.enter.prevent="submitSearch"
          type="search"
          name="global-search"
          autocomplete="off"
          placeholder="Search work items, tasks, projects..."
          class="w-full rounded-xl border border-gray-200 bg-white py-2 pl-10 pr-12 text-sm text-gray-700 shadow-sm outline-none transition focus:border-primary focus:ring-2 focus:ring-primary/30"
        />
        <span class="pointer-events-none absolute inset-y-0 right-3 hidden items-center gap-1 rounded-md border border-gray-200 bg-gray-50 px-2 text-xs font-medium text-gray-500 sm:flex">
          <span class="font-mono">âŒ˜K</span>
        </span>
      </div>
    </div>

    {% set current_path = request.path %}

    <!-- Desktop Navigation -->
    <nav class="hidden items-center gap-1 rounded-full bg-gray-100/80 p-1 md:flex">
      <!-- Work dropdown -->
      <div class="relative" x-data="{ open: false }">
        <button
          type="button"
          @click="open = !open"
          class="rounded-full px-3 py-1.5 text-sm font-medium transition {{ 'bg-white text-primary shadow-sm' if current_path.startswith('/work-item') or current_path.startswith('/task') or current_path.startswith('/project') else 'text-gray-600 hover:text-primary' }}"
        >
          <span class="flex items-center gap-1.5">
            <i class="bi bi-briefcase"></i>
            Work
            <i class="bi bi-chevron-down text-xs"></i>
          </span>
        </button>
        <div
          x-cloak
          x-show="open"
          x-transition
          @click.away="open = false"
          class="absolute left-0 mt-2 w-48 rounded-lg border border-gray-200 bg-white p-1 shadow-lg z-50"
        >
          <a href="/work-items" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="helpModalOpen = false">
            <i class="bi bi-list-task"></i>
            Work Items
          </a>
          <a href="/tasks" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="helpModalOpen = false">
            <i class="bi bi-check2-square"></i>
            Tasks
          </a>
          <a href="/projects" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="helpModalOpen = false">
            <i class="bi bi-folder"></i>
            Projects
          </a>
        </div>
      </div>

      <!-- System dropdown -->
      <div class="relative" x-data="{ open: false }">
        <button
          type="button"
          @click="open = !open"
          class="rounded-full px-3 py-1.5 text-sm font-medium transition {{ 'bg-white text-primary shadow-sm' if current_path.startswith('/agents') or current_path.startswith('/rules') or current_path.startswith('/contexts') else 'text-gray-600 hover:text-primary' }}"
        >
          <span class="flex items-center gap-1.5">
            <i class="bi bi-gear"></i>
            System
            <i class="bi bi-chevron-down text-xs"></i>
          </span>
        </button>
        <div
          x-cloak
          x-show="open"
          x-transition
          @click.away="open = false"
          class="absolute left-0 mt-2 w-48 rounded-lg border border-gray-200 bg-white p-1 shadow-lg z-50"
        >
          <a href="/agents" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="helpModalOpen = false">
            <i class="bi bi-robot"></i>
            Agents
          </a>
          <a href="/rules" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="helpModalOpen = false">
            <i class="bi bi-shield-check"></i>
            Rules
          </a>
          <a href="/contexts" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="helpModalOpen = false">
            <i class="bi bi-layers"></i>
            Contexts
          </a>
        </div>
      </div>

      <!-- Research dropdown -->
      <div class="relative" x-data="{ open: false }">
        <button
          type="button"
          @click="open = !open"
          class="rounded-full px-3 py-1.5 text-sm font-medium transition {{ 'bg-white text-primary shadow-sm' if current_path.startswith('/research') or current_path.startswith('/ideas') else 'text-gray-600 hover:text-primary' }}"
        >
          <span class="flex items-center gap-1.5">
            <i class="bi bi-search"></i>
            Research
            <i class="bi bi-chevron-down text-xs"></i>
          </span>
        </button>
        <div
          x-cloak
          x-show="open"
          x-transition
          @click.away="open = false"
          class="absolute left-0 mt-2 w-48 rounded-lg border border-gray-200 bg-white p-1 shadow-lg z-50"
        >
          <a href="/research/documents" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="helpModalOpen = false">
            <i class="bi bi-journal-text"></i>
            Documents
          </a>
          <a href="/research/evidence" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="helpModalOpen = false">
            <i class="bi bi-file-earmark-check"></i>
            Evidence
          </a>
          <a href="/research/events" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="helpModalOpen = false">
            <i class="bi bi-calendar-event"></i>
            Events
          </a>
          <a href="/ideas" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="helpModalOpen = false">
            <i class="bi bi-lightbulb"></i>
            Ideas
          </a>
        </div>
      </div>

      <!-- Sessions (standalone) -->
      <a href="/sessions"
         class="rounded-full px-3 py-1.5 text-sm font-medium transition {{ 'bg-white text-primary shadow-sm' if current_path.startswith('/sessions') else 'text-gray-600 hover:text-primary' }}">
        <span class="flex items-center gap-2">
          <i class="bi bi-clock-history"></i>
          Sessions
        </span>
      </a>
    </nav>

    <!-- Quick Actions -->
    <div class="flex items-center gap-2">
      <!-- WebSocket Status Indicator (WI-125) -->
      <div class="hidden sm:flex items-center gap-1 text-xs text-gray-500" title="WebSocket status">
        <i id="ws-status-indicator" class="bi bi-wifi text-gray-400"></i>
      </div>

      <a
        href="/search"
        class="hidden rounded-lg border border-gray-200 bg-white px-3 py-2 text-xs font-medium text-gray-600 shadow-sm transition hover:border-primary/30 hover:text-primary sm:inline-flex"
        title="Advanced Search"
      >
        <i class="bi bi-search"></i>
      </a>
      <div class="relative hidden sm:block" x-data="{ open: false }">
        <button
          type="button"
          class="flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary shadow-sm"
          @click="open = !open"
          :aria-expanded="open.toString()"
        >
          <i class="bi bi-person-fill"></i>
        </button>
        <div
          x-cloak
          x-show="open"
          x-transition
          @click.away="open = false"
          class="absolute right-0 mt-2 w-52 rounded-lg border border-gray-200 bg-white p-2 shadow-lg z-50"
          style="max-width: calc(100vw - 2rem);"
        >
          <a href="/projects/1/settings" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary">
            <i class="bi bi-gear"></i>
            Project Settings
          </a>
          <a href="/system/database" class="flex items-center gap-2 rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-primary/10 hover:text-primary">
            <i class="bi bi-sliders"></i>
            System Status
          </a>
          <button type="button" class="flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="showNotifications">
            <i class="bi bi-bell"></i>
            Notifications
          </button>
          <hr class="my-1 border-gray-200">
          <button type="button" class="flex w-full items-center justify-between rounded-md px-3 py-2 text-left text-sm text-gray-700 hover:bg-primary/10 hover:text-primary" @click="showKeyboardShortcuts(); open = false">
            <span class="flex items-center gap-2">
              <i class="bi bi-keyboard"></i>
              Keyboard Shortcuts
            </span>
            <kbd class="rounded border border-gray-300 bg-gray-50 px-1.5 py-0.5 font-mono text-xs">?</kbd>
          </button>
        </div>
      </div>
      <button
        type="button"
        class="inline-flex h-10 w-10 items-center justify-center rounded-lg border border-gray-200 bg-white text-gray-600 shadow-sm transition hover:border-primary/40 hover:text-primary md:hidden"
        @click="mobileOpen = !mobileOpen"
        :aria-expanded="mobileOpen.toString()"
      >
        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Search -->
  <div class="border-t border-gray-200 bg-white px-4 py-3 md:hidden">
    <div class="relative">
      <span class="pointer-events-none absolute inset-y-0 left-3 flex items-center text-gray-400">
        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-4.35-4.35M5 11a6 6 0 1 1 12 0 6 6 0 0 1-12 0Z" />
        </svg>
      </span>
      <input
        type="search"
        x-model="searchQuery"
        @keydown.enter.prevent="submitSearch"
        class="w-full rounded-lg border border-gray-200 bg-white py-2 pl-10 pr-3 text-sm text-gray-700 shadow-sm outline-none transition focus:border-primary focus:ring-2 focus:ring-primary/30"
        placeholder="Search the workspace..."
      />
    </div>
  </div>

  <!-- Mobile Menu -->
  <nav
    x-cloak
    x-show="mobileOpen"
    x-transition
    class="border-t border-gray-200 bg-white md:hidden"
  >
    <div class="space-y-2 px-4 py-4">
      <!-- Home -->
      <a href="/"
         class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path == '/' else 'text-gray-700 hover:bg-gray-50' }}">
        <i class="bi bi-house-door mr-2"></i>Home
      </a>

      <!-- Work Section -->
      <div class="border-t border-gray-100 pt-2 mt-2">
        <div class="px-3 py-1 text-xs font-semibold uppercase tracking-wider text-gray-500">Work</div>
        <a href="/work-items"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/work-item') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-list-task mr-2"></i>Work Items
        </a>
        <a href="/tasks"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/task') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-check2-square mr-2"></i>Tasks
        </a>
        <a href="/projects"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/projects') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-folder mr-2"></i>Projects
        </a>
      </div>

      <!-- System Section -->
      <div class="border-t border-gray-100 pt-2 mt-2">
        <div class="px-3 py-1 text-xs font-semibold uppercase tracking-wider text-gray-500">System</div>
        <a href="/agents"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/agents') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-robot mr-2"></i>Agents
        </a>
        <a href="/rules"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/rules') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-shield-check mr-2"></i>Rules
        </a>
        <a href="/contexts"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/contexts') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-layers mr-2"></i>Contexts
        </a>
      </div>

      <!-- Research Section -->
      <div class="border-t border-gray-100 pt-2 mt-2">
        <div class="px-3 py-1 text-xs font-semibold uppercase tracking-wider text-gray-500">Research</div>
        <a href="/research/documents"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/research/documents') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-journal-text mr-2"></i>Documents
        </a>
        <a href="/research/evidence"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/research/evidence') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-file-earmark-check mr-2"></i>Evidence
        </a>
        <a href="/research/events"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/research/events') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-calendar-event mr-2"></i>Events
        </a>
        <a href="/ideas"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/ideas') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-lightbulb mr-2"></i>Ideas
        </a>
      </div>

      <!-- Activity Section -->
      <div class="border-t border-gray-100 pt-2 mt-2">
        <div class="px-3 py-1 text-xs font-semibold uppercase tracking-wider text-gray-500">Activity</div>
        <a href="/sessions"
           class="block rounded-lg px-3 py-2 text-sm font-medium transition {{ 'bg-primary/10 text-primary' if current_path.startswith('/sessions') else 'text-gray-700 hover:bg-gray-50' }}">
          <i class="bi bi-clock-history mr-2"></i>Sessions
        </a>
      </div>
    </div>
  </nav>

  <!-- Keyboard Shortcuts Help Modal -->
  <div
    x-show="helpModalOpen"
    x-cloak
    @keydown.escape.window="helpModalOpen = false"
    class="fixed inset-0 z-50 flex items-center justify-center bg-gray-900/50 backdrop-blur-sm"
    style="display: none;"
  >
    <div
      @click.away="helpModalOpen = false"
      class="relative mx-4 w-full max-w-2xl rounded-xl border border-gray-200 bg-white p-6 shadow-2xl"
    >
      <!-- Header -->
      <div class="mb-6 flex items-center justify-between">
        <div>
          <h2 class="text-xl font-semibold text-gray-900">Keyboard Shortcuts</h2>
          <p class="text-sm text-gray-600">Quick access to common actions</p>
        </div>
        <button
          @click="helpModalOpen = false"
          class="rounded-lg p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600"
        >
          <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Shortcuts Grid -->
      <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
        <!-- Navigation -->
        <div class="space-y-3">
          <h3 class="text-sm font-semibold text-gray-900">Navigation</h3>
          <div class="space-y-2 text-sm">
            <div class="flex items-center justify-between">
              <span class="text-gray-600">Search</span>
              <kbd class="rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-700">âŒ˜K</kbd>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-gray-600">Dashboard</span>
              <kbd class="rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-700">âŒ˜D</kbd>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-gray-600">Work Items</span>
              <kbd class="rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-700">âŒ˜W</kbd>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-gray-600">Tasks</span>
              <kbd class="rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-700">âŒ˜T</kbd>
            </div>
          </div>
        </div>

        <!-- Actions -->
        <div class="space-y-3">
          <h3 class="text-sm font-semibold text-gray-900">Actions</h3>
          <div class="space-y-2 text-sm">
            <div class="flex items-center justify-between">
              <span class="text-gray-600">Quick Create</span>
              <kbd class="rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-700">âŒ˜N</kbd>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-gray-600">Notifications</span>
              <kbd class="rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-700">âŒ˜B</kbd>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-gray-600">Help</span>
              <kbd class="rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-700">?</kbd>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-gray-600">Close Modal</span>
              <kbd class="rounded bg-gray-100 px-2 py-1 text-xs font-mono text-gray-700">Esc</kbd>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <div class="mt-6 flex items-center justify-between border-t border-gray-100 pt-4">
        <p class="text-xs text-gray-500">Press any key combination to trigger the action</p>
        <button
          @click="helpModalOpen = false"
          class="rounded-lg bg-primary px-4 py-2 text-sm font-medium text-white hover:bg-primary/90"
        >
          Got it
        </button>
      </div>
    </div>
  </div>
</header>

<script>
  function headerController() {
    return {
      mobileOpen: false,
      searchQuery: '',
      helpModalOpen: false,
      submitSearch() {
        const query = this.searchQuery.trim();
        if (query) {
          window.location.href = `/search?q=${encodeURIComponent(query)}`;
        }
      },
      showQuickCreateModal() {
        console.info('Quick create modal not yet implemented');
      },
      showNotifications() {
        console.info('Notifications panel not yet implemented');
      },
      showKeyboardShortcuts() {
        this.helpModalOpen = true;
      },
    };
  }

  // Global keyboard shortcuts
  window.addEventListener('keydown', (event) => {
    // âŒ˜K / Ctrl+K: Focus search
    if ((event.metaKey || event.ctrlKey) && event.key.toLowerCase() === 'k') {
      event.preventDefault();
      const header = document.querySelector('header[x-data^="headerController"]');
      if (!header) return;
      const searchInput = header.querySelector('input[name="global-search"]') || header.querySelector('input[type="search"]');
      if (searchInput) {
        searchInput.focus();
        searchInput.select();
      }
    }

    // ?: Show keyboard shortcuts help
    if (event.key === '?' && !event.shiftKey && !event.metaKey && !event.ctrlKey && !event.altKey) {
      // Only trigger if not in an input field
      if (event.target.tagName !== 'INPUT' && event.target.tagName !== 'TEXTAREA') {
        event.preventDefault();
        const header = document.querySelector('header[x-data^="headerController"]');
        if (header && header.__x) {
          header.__x.$data.helpModalOpen = true;
        }
      }
    }
  });
</script>

<!-- Keyboard Shortcuts Help Modal -->
<div
  x-show="helpModalOpen"
  x-cloak
  @keydown.escape.window="helpModalOpen = false"
  class="fixed inset-0 z-50 flex items-center justify-center bg-gray-900/50 backdrop-blur-sm"
  style="display: none;"
>
  <div
    @click.away="helpModalOpen = false"
    class="relative mx-4 w-full max-w-2xl rounded-xl border border-gray-200 bg-white p-6 shadow-2xl"
  >
    <!-- Header -->
    <div class="mb-6 flex items-center justify-between">
      <div>
        <h2 class="text-xl font-semibold text-gray-900">Keyboard Shortcuts</h2>
        <p class="text-sm text-gray-600">Quick access to common actions</p>
      </div>
      <button
        type="button"
        @click="helpModalOpen = false"
        class="flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 transition hover:bg-gray-100 hover:text-gray-600"
      >
        <i class="bi bi-x-lg"></i>
      </button>
    </div>

    <!-- Shortcuts Grid -->
    <div class="space-y-6">
      <!-- Navigation -->
      <div>
        <h3 class="mb-3 text-sm font-semibold uppercase tracking-wider text-gray-500">Navigation</h3>
        <div class="space-y-2">
          <div class="flex items-center justify-between rounded-lg border border-gray-200 px-4 py-3">
            <span class="text-sm text-gray-700">Global search</span>
            <kbd class="rounded border border-gray-300 bg-gray-50 px-2 py-1 font-mono text-xs">âŒ˜K</kbd>
          </div>
          <div class="flex items-center justify-between rounded-lg border border-gray-200 px-4 py-3">
            <span class="text-sm text-gray-700">Show keyboard shortcuts</span>
            <kbd class="rounded border border-gray-300 bg-gray-50 px-2 py-1 font-mono text-xs">?</kbd>
          </div>
        </div>
      </div>

      <!-- Work -->
      <div>
        <h3 class="mb-3 text-sm font-semibold uppercase tracking-wider text-gray-500">Quick Links</h3>
        <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
          <a href="/work-items" class="flex items-center gap-3 rounded-lg border border-gray-200 px-4 py-3 transition hover:border-primary/30 hover:bg-primary/5">
            <i class="bi bi-list-task text-primary"></i>
            <span class="text-sm font-medium text-gray-700">Work Items</span>
          </a>
          <a href="/tasks" class="flex items-center gap-3 rounded-lg border border-gray-200 px-4 py-3 transition hover:border-primary/30 hover:bg-primary/5">
            <i class="bi bi-check2-square text-primary"></i>
            <span class="text-sm font-medium text-gray-700">Tasks</span>
          </a>
          <a href="/agents" class="flex items-center gap-3 rounded-lg border border-gray-200 px-4 py-3 transition hover:border-primary/30 hover:bg-primary/5">
            <i class="bi bi-robot text-primary"></i>
            <span class="text-sm font-medium text-gray-700">Agents</span>
          </a>
          <a href="/rules" class="flex items-center gap-3 rounded-lg border border-gray-200 px-4 py-3 transition hover:border-primary/30 hover:bg-primary/5">
            <i class="bi bi-shield-check text-primary"></i>
            <span class="text-sm font-medium text-gray-700">Rules</span>
          </a>
        </div>
      </div>

      <!-- Tips -->
      <div class="rounded-lg bg-primary/5 p-4">
        <div class="flex items-start gap-3">
          <i class="bi bi-lightbulb text-primary"></i>
          <div>
            <p class="text-sm font-medium text-gray-900">Pro tip</p>
            <p class="text-sm text-gray-600">Use the search bar (âŒ˜K) to quickly find work items, tasks, agents, and more across the entire system.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="mt-6 flex justify-end">
      <button
        type="button"
        @click="helpModalOpen = false"
        class="rounded-lg bg-primary px-4 py-2 text-sm font-medium text-white transition hover:bg-primary/90"
      >
        Got it
      </button>
    </div>
  </div>
</div>
